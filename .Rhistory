df <- df1 %>%
select(Number, Day.of.Week, Date, Fail., Time.since, Week.Pred,
Acc.Pred, Date.Pred, Yest.Pred) %>%
rename("Day" = Day.of.Week, "Result" = Fail., "LastFail" = Time.since) %>%
mutate(Previous = lag(Result),
Month == month(Date),
Year == year(Date)) %>%
filter(Number > 1) %>%
view()
df <- df1 %>%
select(Number, Day.of.Week, Date, Fail., Time.since, Week.Pred,
Acc.Pred, Date.Pred, Yest.Pred) %>%
rename("Day" = Day.of.Week, "Result" = Fail., "LastFail" = Time.since) %>%
# mutate(Previous = lag(Result),
# Month == month(Date),
# Year == year(Date)) %>%
filter(Number > 1) %>%
view()
df <- df1 %>%
select(Number, Day.of.Week, Date, Fail., Time.since, Week.Pred,
Acc.Pred, Date.Pred, Yest.Pred) %>%
rename("Day" = Day.of.Week, "Result" = Fail., "LastFail" = Time.since) %>%
mutate(Previous = lag(Result)) %>%
# Month == month(Date),
# Year == year(Date)) %>%
filter(Number > 1) %>%
view()
library(tidyverse)
library(ggplot2)
library(car)
df1 <- read.csv("Workbook1.csv")
#Changes successes to 0 and not NA
df1$Fail.[is.na(df1$Fail.)] = 0
df <- df1 %>%
select(Number, Day.of.Week, Date, Fail., Time.since, Week.Pred,
Acc.Pred, Date.Pred, Yest.Pred) %>%
rename("Day" = Day.of.Week, "Result" = Fail., "LastFail" = Time.since) %>%
mutate(Previous = lag(Result),
# Month == month(Date),
# Year == year(Date)) %>%
filter(Number > 1) %>%
view()
df <- df1 %>%
select(Number, Day.of.Week, Date, Fail., Time.since, Week.Pred,
Acc.Pred, Date.Pred, Yest.Pred) %>%
rename("Day" = Day.of.Week, "Result" = Fail., "LastFail" = Time.since) %>%
mutate(Previous = lag(Result),
# Month == month(Date),
# Year == year(Date)) %>%
filter(Number > 1) %>%
view()
view(df)
view(df)
df <- df1 %>%
select(Number, Day.of.Week, Date, Fail., Time.since, Week.Pred,
Acc.Pred, Date.Pred, Yest.Pred) %>%
rename("Day" = Day.of.Week, "Result" = Fail., "LastFail" = Time.since) %>%
mutate(Previous = lag(Result),
Month == month(Date),
Year == year(Date)) %>%
filter(Number > 1) %>%
view()
library(lubridate)
df <- df1 %>%
select(Number, Day.of.Week, Date, Fail., Time.since, Week.Pred,
Acc.Pred, Date.Pred, Yest.Pred) %>%
rename("Day" = Day.of.Week, "Result" = Fail., "LastFail" = Time.since) %>%
mutate(Previous = lag(Result),
Month == month(Date),
Year == year(Date)) %>%
filter(Number > 1) %>%
view()
df <- df1 %>%
select(Number, Day.of.Week, Date, Fail., Time.since, Week.Pred,
Acc.Pred, Date.Pred, Yest.Pred) %>%
rename("Day" = Day.of.Week, "Result" = Fail., "LastFail" = Time.since) %>%
mutate(Previous = lag(Result),
Month = month(Date),
Year = year(Date)) %>%
filter(Number > 1) %>%
view()
df <- df1 %>%
select(Number, Day.of.Week, Date, Fail., Time.since, Week.Pred,
Acc.Pred, Date.Pred, Yest.Pred) %>%
rename("Day" = Day.of.Week, "Result" = Fail., "LastFail" = Time.since) %>%
mutate(#Previous = lag(Result),
#Month = month(Date),
Year = year(Date)) %>%
filter(Number > 1) %>%
view()
df <- df1 %>%
select(Number, Day.of.Week, Date, Fail., Time.since, Week.Pred,
Acc.Pred, Date.Pred, Yest.Pred) %>%
rename("Day" = Day.of.Week, "Result" = Fail., "LastFail" = Time.since) %>%
mutate(Previous = lag(Result),
#Month = month(Date),
#Year = year(Date)
) %>%
filter(Number > 1) %>%
view()
df <- df1 %>%
select(Number, Day.of.Week, Date, Fail., Time.since, Week.Pred,
Acc.Pred, Date.Pred, Yest.Pred) %>%
rename("Day" = Day.of.Week, "Dates" = Date, "Result" = Fail., "LastFail" = Time.since) %>%
mutate(Previous = lag(Result),
Month = month(Dates),
Year = year(Dates)
) %>%
filter(Number > 1) %>%
view()
df <- df1 %>%
select(Number, Day.of.Week, Date, Fail., Time.since, Week.Pred,
Acc.Pred, Date.Pred, Yest.Pred) %>%
rename("Day" = Day.of.Week, "Dates" = Date, "Result" = Fail., "LastFail" = Time.since) %>%
mutate(Previous = lag(Result),
month = month(Dates),
year = year(Dates)
) %>%
filter(Number > 1) %>%
view()
df <- df1 %>%
select(Number, Day.of.Week, Date, Fail., Time.since, Week.Pred,
Acc.Pred, Date.Pred, Yest.Pred) %>%
rename("Day" = Day.of.Week, "Dates" = Date, "Result" = Fail., "LastFail" = Time.since) %>%
mutate(Previous = lag(Result),
month1 = month(Dates),
year1 = year(Dates)
) %>%
filter(Number > 1) %>%
view()
library(lubridate, warn.conflicts = FALSE)
df <- df1 %>%
select(Number, Day.of.Week, Date, Fail., Time.since, Week.Pred,
Acc.Pred, Date.Pred, Yest.Pred) %>%
rename("Day" = Day.of.Week, "Dates" = Date, "Result" = Fail., "LastFail" = Time.since) %>%
mutate(Previous = lag(Result),
month1 = month(Dates),
year1 = year(Dates)
) %>%
filter(Number > 1) %>%
view()
month(Date)
month(df$Date)
df$Date
month(mdy(df$Date))
df <- df1 %>%
select(Number, Day.of.Week, Date, Fail., Time.since, Week.Pred,
Acc.Pred, Date.Pred, Yest.Pred) %>%
rename("Day" = Day.of.Week, "Result" = Fail., "LastFail" = Time.since) %>%
mutate(Previous = lag(Result),
month1 = month(mdy(Date)),
year1 = year(mdy(Date))
) %>%
filter(Number > 1) %>%
view()
df <- df1 %>%
select(Number, Day.of.Week, Date, Fail., Time.since, Week.Pred,
Acc.Pred, Date.Pred, Yest.Pred) %>%
rename("Day" = Day.of.Week, "Result" = Fail., "LastFail" = Time.since) %>%
mutate(Previous = lag(Result),
month1 = month(mdy(Date)),
year1 = year(mdy(Date))
) %>%
filter(Number > 1) %>%
view()
df <- df1 %>%
select(Number, Day.of.Week, Date, Fail., Time.since, Week.Pred,
Acc.Pred, Date.Pred, Yest.Pred) %>%
rename("Day" = Day.of.Week, "Result" = Fail., "LastFail" = Time.since) %>%
mutate(Previous = lag(Result),
Month = month(mdy(Date)),
Year = year(mdy(Date))
) %>%
filter(Number > 7) %>%
view()
model <- lm(formula= Result~ factor(Day) + Week.Pred + Acc.Pred + Date.Pred +
Yest.Pred + Previous + Month + Year, data = df)
summary(model)
vif(model)
summary(model)
model <- lm(formula= Result~ factor(Day) + Previous + Month + Year, data = df)
summary(model)
sum(df$Result)
model <- lm(formula= Result~ factor(Day) + Previous + factor(Month) + factor(Year), data = df)
summary(model)
model <- lm(formula= Result~ factor(Day) + Previous + factor(Month) + factor(Year) +
Week.Pred, data = df)
summary(model)
setwd("~/Documents/globalhealth")
library(ggplot2)
library(tidyverse)
df <-read.csv("Global_Health_data.csv")
df <- subset(df, select = c(20,22,26,36,38:40, 43:45, 47:50))
df <- df[-c(1:2),]
view(df)
df <- df %>%
filter(Q14 != "") %>% view()
ggplot(data=df, aes(x = df$Q14,
main = "Global Health Career Interest?",
xlab = "Options")) +
geom_bar(fill = 'blue')
df1 <- df %>%
group_by(Q2) %>%
count(Q14) %>%
view()
ggplot(data=df1, aes(x = df1$Q2,
main = "Global Health Career Interest?",
xlab = "Options")) +
geom_bar(fill = 'blue')
df18 <- df %>%
filter(Q18 != "") %>%
view()
View(fit.lasso2)
ggplot(df, aes(x=Q18)) +
geom_bar(fill = "blue") +
labs(title = "Are there enough Global Health Opportunities?",
y = "total votes")
ggplot(df18, aes(x=Q18)) +
geom_bar(fill = "blue") +
labs(title = "Are there enough Global Health Opportunities?",
y = "total votes")
#Q18 Responses
Q18Responses <- df18$Q18 == "No"
Q18Responses
Q18Responses <- df18$Q18[df18$Q18 == "No"] = 0
Q18Responses <- if(df18$Q18 == "No") {
1
} else {
0
}
df18 <- df18 %>%
mutate(Q18 = case_when(
.$Q18 == "No" ~ 0
.$Q18 == "Yes" ~ 1
.$Q18 == "I don't know" ~ 1
)) %>%
view()
df18 <- df18 %>%
mutate(Q18 = case_when(
Q18 == "No" ~ 0
Q18 == "Yes" ~ 1
Q18 == "I don't know" ~ 1
)) %>%
view()
df18 <- df18 %>%
mutate(Q18 = case_when(
Q18 == "No" ~ 0,
Q18 == "Yes" ~ 1,
Q18 == "I don't know" ~ 1
)) %>%
view()
df18 <- df %>%
filter(Q18 != "") %>%
view()
DF18 <- df18 %>%
mutate(Q18 = case_when(
Q18 == "No" ~ 0,
Q18 == "Yes" ~ 1,
Q18 == "I don't know" ~ .5
)) %>%
view()
DF18 <- df18 %>%
mutate(Q18 = case_when(
Q18 == "No" ~ 0,
Q18 == "Yes" ~ 1,
Q18 == "I don't know " ~ .5
)) %>%
view()
DF18 <- df18 %>%
mutate(Q18 = case_when(
Q18 == "No" ~ 0,
Q18 == "Yes" ~ 1,
Q18 == "I dont know" ~ .5
)) %>%
view()
DF18 <- df18 %>%
mutate(Q18 = case_when(
Q18 == "No" ~ 0,
Q18 == "Yes" ~ 1,
Q18 == "'I don't know'" ~ .5
)) %>%
view()
DF18 <- df18 %>%
mutate(Q18 = case_when(
Q18 == "No" ~ 0,
Q18 == "Yes" ~ 1,
Q18 == 'I dont know' ~ .5
)) %>%
view()
DF18 <- df18 %>%
mutate(Q18 = case_when(
Q18 == "No" ~ 0,
Q18 == "Yes" ~ 1,
Q18 == "'I dont know'" ~ .5
)) %>%
view()
DF18 <- df18 %>%
filter(Q18 =! "I don't know") %>%
mutate(Q18 = case_when(
Q18 == "No" ~ 0,
Q18 == "Yes" ~ 1
)) %>%
view()
DF18 <- df18 %>%
filter(Q18 == ! "I don't know") %>%
mutate(Q18 = case_when(
Q18 == "No" ~ 0,
Q18 == "Yes" ~ 1
)) %>%
view()
DF18 <- df18 %>%
filter(Q18 == "I don't know") %>%
mutate(Q18 = case_when(
Q18 == "No" ~ 0,
Q18 == "Yes" ~ 1
)) %>%
view()
DF18 <- df18 %>%
filter(Q18 == "Yes" || Q18 == "No") %>%
mutate(Q18 = case_when(
Q18 == "No" ~ 0,
Q18 == "Yes" ~ 1
)) %>%
view()
DF18 <- df18 %>%
filter(Q18 == 1 || Q18 == 0) %>%
mutate(Q18 = case_when(
Q18 == "No" ~ 0,
Q18 == "Yes" ~ 1
)) %>%
view()
DF18 <- df18 %>%
mutate(Q18 = case_when(
Q18 == "No" ~ 0,
Q18 == "Yes" ~ 1,
Q18 == "I don't know" ~ .5
)) %>%
view()
DF18 <- df18 %>%
mutate(Q18 = case_when(
Q18 == "No" ~ 0,
Q18 == "Yes" ~ 1,
Q18 == "I don't know" ~ .5
)) %>%
mutate(Q14 = case_when(
Q14 == "No" ~ 0,
Q14 == "Yes" ~ 1,
Q14 == "Unsure" ~ .5
)) %>%
view()
df18 <- df %>%
filter(Q18 != "") %>%
view()
DF18 <- df18 %>%
mutate(Q18 = case_when(
Q18 == "No" ~ 0,
Q18 == "Yes" ~ 1,
Q18 == "I don't know" ~ .5
)) %>%
mutate(Q14 = case_when(
Q14 == "No" ~ 0,
Q14 == "Yes" ~ 1,
Q14 == "Unsure" ~ .5
)) %>%
view()
df18 <- df %>%
filter(Q18 != "") %>%
view()
DF18$Q18[is.na(DF18$Q18)] = .5
DF18$Q14[is.na(DF18$Q14)] = 0
DF18 <- df18 %>%
mutate(Q18 = case_when(
Q18 == "No" ~ 0,
Q18 == "Yes" ~ 1,
Q18 == "I don't know" ~ .5
)) %>%
mutate(Q14 = case_when(
Q14 == "No" ~ 0,
Q14 == "Yes" ~ 1,
Q14 == "Unsure" ~ .5
)) %>%
view()
DF18$Q18[is.na(DF18$Q18)] = .5
DF18$Q14[is.na(DF18$Q14)] = 0
view(DF18)
DF18 <- df18 %>%
mutate(Q18 = case_when(
Q18 == "No" ~ 0,
Q18 == "Yes" ~ 1,
Q18 == "I don't know" ~ .5
)) %>%
#Q14 Responses: No is 0, Yes is 1, Unsure is also 0
mutate(Q14 = case_when(
Q14 == "No" ~ 0,
Q14 == "Yes" ~ 1,
Q14 == "Unsure" ~ 0
))
#Fix confusing NAs
DF18$Q18[is.na(DF18$Q18)] = .5
DF18$Q14[is.na(DF18$Q14)] = 0
view(DF18)
Interested_df18 <- DF18 %>%
filter(Q14 == 1) %>%
view()
Interested_df18 <- DF18 %>%
filter(Q14 == 0) %>%
view()
Interested_df18 <- DF18 %>%
filter(Q14 == 1) %>%
view()
Uninterested_df18 <- DF18 %>%
filter(Q14 == 0)
t.test(Interested_df18$Q18, Uninterested_df18$Q18)
length(Uninterested_df18)
n0 = length(Interested_df18)
n1 = length(Uninterested_df18)
n0
n1
Interested_df18 <- DF18 %>%
filter(Q14 == 1) %>%
view()
n0 = length(Interested_df18$Q14)
n1 = length(Uninterested_df18$Q14)
n0
n1
n0 = length(Interested_df18$Q18)
n1 = length(Uninterested_df18$Q18)
cat("
model {
## sampling
for(i in 1:n0){
y_0[i] ~ dnorm(mu_0, phi0)
}
for(i in 1:n1){
y_1[i] ~ dnorm(mu_1, phi1)
}
## priors
mu_0 ~ dnorm(0, .0001)
mu_1 ~ dnorm(0, .0001)
phi0 ~ dgamma(.1,.1)
phi1 ~ dgamma(.1,.1)
##interests
diff <- mu_0 - mu_1
#ratio <- mu_0/mu_1
}
", file = "normal-normal.jags")
n0 = length(Interested_df18$Q18)
n1 = length(Uninterested_df18$Q18)
inits <- list(mu_0 = 1, mu_1 = 1, phi0 = .1, phi1 = .1)
data <- list("y_0" = Interested_df18$Q18, "y_1" = Uninterested_df18$Q18, "n0" = n0, "n1" = n1)
jm <- jags.model("normal-normal.jags", data = data, quiet = TRUE)
library(rjags)
library(plyr)
library(ProbBayes)
cat("
model {
## sampling
for(i in 1:n0){
y_0[i] ~ dnorm(mu_0, phi0)
}
for(i in 1:n1){
y_1[i] ~ dnorm(mu_1, phi1)
}
## priors
mu_0 ~ dnorm(0, .0001)
mu_1 ~ dnorm(0, .0001)
phi0 ~ dgamma(.1,.1)
phi1 ~ dgamma(.1,.1)
##interests
diff <- mu_0 - mu_1
#ratio <- mu_0/mu_1
}
", file = "normal-normal.jags")
n0 = length(Interested_df18$Q18)
n1 = length(Uninterested_df18$Q18)
inits <- list(mu_0 = 1, mu_1 = 1, phi0 = .1, phi1 = .1)
data <- list("y_0" = Interested_df18$Q18, "y_1" = Uninterested_df18$Q18, "n0" = n0, "n1" = n1)
jm <- jags.model("normal-normal.jags", data = data, quiet = TRUE)
samps <- coda.samples(jm, variable.names = c("diff"), n.iter = 10000)
ests <- summary(samps, quantiles = c(.025, .975))
ests
mcmc_hist(samps)
library(Bayesplot)
library(bayesplot)
#Quantiles in 95% Interval (-.364, -.009) This also suggests that the difference
#is significant
mcmc_hist(samps)
mcmc_areas(samps, "mu", prob = .95, point.est = "mean") + labs(x = expression(mu), title = "Posterior")
Diamondbacks <- c(220, 270)
Reds <- c(248, 294)
Diamondbacks[1]^1.83/(Diamondbacks[1]^1.83+Diamondbacks[2]^1.83)
Reds[1]^1.83/(Reds[1]^1.83+Reds[2]^1.83)
Diamondbacks[1]^1.83/(Diamondbacks[1]^1.83+Diamondbacks[2]^1.83)*Diamondbacks[3]
Diamondbacks[1]^1.83/(Diamondbacks[1]^1.83+Diamondbacks[2]^1.83)*Diamondbacks[3]
Diamondbacks <- c(220, 270, 57)
Reds <- c(248, 294, 55)
Diamondbacks[1]^1.83/(Diamondbacks[1]^1.83+Diamondbacks[2]^1.83)*Diamondbacks[3]
Reds[1]^1.83/(Reds[1]^1.83+Reds[2]^1.83)*Reds[3]
install.packages("rstanarm")
library(rstanarm)
ests <- summary(samps, quantiles = c(.025, .975))
ests
#Quantiles in 95% Interval (-.364, -.009) This also suggests that the difference
#is significant
#graph of difference
mcmc_hist(samps)
mcmc_areas(samps, "mu", prob = .95, point.est = "mean") + labs(x = expression(mu), title = "Posterior")
mcmc_areas(samps, "mu", prob = .95, point.est = "mean") +
labs(x = expression(mu), title = "Posterior")
mcmc_areas(samps, "mu", prob = .95, point.est = "diff") +
labs(x = expression(mu), title = "Posterior")
plot(samps)
